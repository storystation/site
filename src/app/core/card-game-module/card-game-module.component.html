<div class="card text-center mb-4">
  <h2 class="card-header text-uppercase red">{{ story.title }}</h2>
  <div class="card-body col-lg-8 mx-auto">
    <div *ngIf="!isComplete">
      <div>
        <hr class="quote">
        <p class="text-italic text-quote">{{ moduleContent.description }}</p>
        <hr>
      </div>

      <a (click)="moduleActivated()" class="btn btn-lg btn-outline-primary-inverted mt-2 href" *ngIf="!launchModule">
        Activer le module
      </a>

      <div *ngIf="launchModule" class="alert alert-danger card-text mx-auto mt-4 col-lg-9 red">
        <p class="text-center h3">
          <countdown [config]="{leftTime: moduleContent.time_max}" (finished)="onFinished('KO')">$!m!:$!s!$!s-ext!
          </countdown>
        </p>
      </div>
    </div>
    <div *ngIf="isComplete">
      <div *ngIf="gameOver" class="row d-flex justify-content-center" [ngClass]="gameOver ? '' : 'hide'">
        <img src="../../../assets/icons/game-over.png" class="" alt="game_over" width="150px">
      </div>

      <div class="alert card-text red m-4 text-dark" [ngClass]="gameOver ? 'alert-danger' : 'alert-success'">
        {{ gameOver ? moduleContent.response.fail : moduleContent.response.success }}
      </div>

      <a class="btn btn-lg btn-outline-primary-inverted row mt-2 href" (click)="nextStep()">
        {{ gameOver ? 'Retour Ã  l\'accueil' : 'Suite de l\'histoire' }}
      </a>
    </div>
  </div>
</div>
